!function(t){function s(t,s,a){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,rrjChartPluginOptions["t-separator"])}function a(a){if(void 0!==a);else{var i=window.pageYOffset+window.innerHeight;for(var e in o){var n=o[e];if(!1===n.s){if(!1===n.d)continue;var c=parseInt(rrjChartPluginOptions.init,10);if(isNaN(c)&&(c=0),i>n.e.offset().top+c*n.e.height()/100){if(n.t&&(n.d.options.tooltips.callbacks={},n.d.options.tooltipsFormat=n.t,"bubble"==n.d.type?n.d.options.tooltips.callbacks.label=function(t,s){var a=s.datasets[0]._meta[Object.keys(s.datasets[0]._meta)[0]].controller.chart.options.tooltipsFormat[t.datasetIndex];return a=a.replace(/\{y\}/gi,s.datasets[t.datasetIndex].data[t.index].y).replace(/\{x\}/gi,s.datasets[t.datasetIndex].data[t.index].x).replace(/\{r\}/gi,s.datasets[t.datasetIndex].data[t.index].r),a=a.split("{n}")}:"pie"==n.d.type||"polarArea"==n.d.type?n.d.options.tooltips.callbacks.label=function(t,s){return s.datasets[0]._meta[Object.keys(s.datasets[0]._meta)[0]].controller.chart.options.tooltipsFormat[t.index].replace(/\{y\}/gi,s.datasets[0].data[t.index])}:n.d.options.tooltips.callbacks.label=function(t,s){return"string"!=typeof t.yLabel&&isNaN(t.yLabel)?"":s.datasets[0]._meta[Object.keys(s.datasets[0]._meta)[0]].controller.chart.options.tooltipsFormat[t.datasetIndex].replace(/\{y\}/gi,t.yLabel).replace(/\{x\}/gi,t.xLabel)}),"undefined"!=typeof rrjChartOptions&&t.extend(!0,n.d.options,rrjChartOptions[n.id]),n.d.options.yAxisFormat&&("function"==typeof n.d.options.scales.yAxes[0].ticks.callback?function(t){var s=t.options.scales.yAxes[0].ticks.callback;t.options.scales.yAxes[0].ticks.callback=function(a,o,i){var e=t.options.yAxisFormat.prefix?t.options.yAxisFormat.prefix:"",n=t.options.yAxisFormat.suffix?t.options.yAxisFormat.suffix:"";return e+s(a,o,i)+n}}(n.d):function(t){t.options.scales.yAxes[0].ticks.callback=function(s,a,o){return(t.options.yAxisFormat.prefix?t.options.yAxisFormat.prefix:"")+s+(t.options.yAxisFormat.suffix?t.options.yAxisFormat.suffix:"")}}(n.d)),n.d.options.xAxisFormat&&("function"==typeof n.d.options.scales.xAxes[0].ticks.callback?function(t){var s=t.options.scales.xAxes[0].ticks.callback;t.options.scales.xAxes[0].ticks.callback=function(a,o,i){var e=t.options.xAxisFormat.prefix?t.options.xAxisFormat.prefix:"",n=t.options.xAxisFormat.suffix?t.options.xAxisFormat.suffix:"";return e+s(a,o,i)+n}}(n.d):function(t){t.options.scales.xAxes[0].ticks.callback=function(s,a,o){return(t.options.xAxisFormat.prefix?t.options.xAxisFormat.prefix:"")+s+(t.options.xAxisFormat.suffix?t.options.xAxisFormat.suffix:"")}}(n.d)),n.d.options.axisFormat&&("function"==typeof n.d.options.scale.ticks.callback?function(t){var s=t.options.scale.ticks.callback;t.options.scale.ticks.callback=function(a,o,i){var e=t.options.axisFormat.prefix?t.options.axisFormat.prefix:"",n=t.options.axisFormat.suffix?t.options.axisFormat.suffix:"";return e+s(a,o,i)+n}}(n.d):function(t){t.options.scale.ticks.callback=function(s,a,o){return(t.options.axisFormat.prefix?t.options.axisFormat.prefix:"")+s+(t.options.axisFormat.suffix?t.options.axisFormat.suffix:"")}}(n.d)),""!=rrjChartPluginOptions["t-separator"]&&!n.d.options.noTsep){var r=rrjChartPluginOptions["t-separator"];if("function"==typeof n.d.options.tooltips.callbacks.label&&function(t){var s=t.options.tooltips.callbacks.label;t.options.tooltips.callbacks.label=function(a,o){var i=s(a,o);return"bubble"==t.type?i.map(function(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,r)}):i=i.replace(/\B(?=(\d{3})+(?!\d))/g,r)}}(n.d),"horizontalBar"==n.d.type)if("function"==typeof n.d.options.scales.xAxes[0].ticks.callback){var l=n.d.options.scales.xAxes[0].ticks.callback;n.d.options.scales.xAxes[0].ticks.callback=function(t,s,a){return l(t,s,a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)}}else n.d.options.scales.xAxes[0].ticks.callback=s;else if("polarArea"==n.d.type||"radar"==n.d.type)if("function"==typeof n.d.options.scale.ticks.callback){var l=n.d.options.scale.ticks.callback;n.d.options.scale.ticks.callback=function(t,s,a){return l(t,s,a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)}}else n.d.options.scale.ticks.callback=s;else if("pie"==n.d.type);else if("bubble"==n.d.type){if("function"==typeof n.d.options.scales.xAxes[0].ticks.callback){var l=n.d.options.scales.xAxes[0].ticks.callback;n.d.options.scales.xAxes[0].ticks.callback=function(t,s,a){return l(t,s,a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)}}else n.d.options.scales.xAxes[0].ticks.callback=s;if("function"==typeof n.d.options.scales.yAxes[0].ticks.callback){var l=n.d.options.scales.yAxes[0].ticks.callback;n.d.options.scales.yAxes[0].ticks.callback=function(t,s,a){return l(t,s,a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)}}else n.d.options.scales.yAxes[0].ticks.callback=s}else if("bar"==n.d.type||"line"==n.d.type)if("function"==typeof n.d.options.scales.yAxes[0].ticks.callback){var l=n.d.options.scales.yAxes[0].ticks.callback;n.d.options.scales.yAxes[0].ticks.callback=function(t,s,a){return l(t,s,a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)}}else n.d.options.scales.yAxes[0].ticks.callback=s}n.c.siblings(".rrj-preload-wrap").css("display","none"),new rrjChart(n.c,n.d),n.s=!0}}}}}var o={};t(window).on("scroll",function(){a()}),t(document).on("rrjDelayedChart",function(t,s,i){o[s].d=i,a()}),t(function(){t(".rrj-chart").each(function(){var s=t(this),a=s.find(".chart-data").html(),i=!1,e=!1,n=s.find(".tooltips-data").length;try{i=JSON.parse(a),n&&(e=JSON.parse(s.find(".tooltips-data").html()))}catch(t){}if(i){var c=s.find(".chart-data").attr("data-id"),r=s.find("canvas");"undefined"!=typeof rrjChartData&&"function"==typeof rrjChartData[c]&&(i=rrjChartData[c].call({id:c,data:i,$canvas:r},t)),o[c]={e:s,d:i,c:r,t:e,s:!1,id:c}}}),a()})}(window.jQuery);